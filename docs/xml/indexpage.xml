<?xml version='1.0' encoding='UTF-8' standalone='no'?>
<doxygen xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="compound.xsd" version="1.8.14">
  <compounddef id="indexpage" kind="page">
    <compoundname>index</compoundname>
    <title>FMS Coupler</title>
    <briefdescription>
<para>FMS Coupler provides the capability to couple component models (atmosphere, land, sea ice, and ocean) on different logically rectangular grids. </para>    </briefdescription>
    <detaileddescription>
<para>FMS Coupler provides the capability to couple component models (atmosphere, land, sea ice, and ocean) on different logically rectangular grids. This repository holds 3 separate directories with driver programs for different usages along with modules with routines for common operations.</para><para>There are currently 3 <computeroutput>coupler_main</computeroutput> driver programs, each with their own directory:<itemizedlist>
<listitem><para>the original &apos;full&apos; coupler_main</para></listitem><listitem><para>a slimmed down &apos;simple&apos; version</para></listitem><listitem><para>a <ulink url="https://www.gfdl.noaa.gov/shield/"><bold>SHiELD</bold></ulink> version for use with the model</para></listitem></itemizedlist>
</para><para>Additionally, files in the &apos;shared&apos; directory holds modules used by multiple drivers. The information below is provided for the full coupler, but there is considerable overlap between the other versions. Documentation on all programs and modules is available through the <ulink url="files.html"><bold>files</bold></ulink> tab.</para><para><simplesect kind="author"><para>Bruce Wyman <ulink url="mailto:Bruce.Wyman@noaa.gov">Bruce.Wyman@noaa.gov</ulink> </para></simplesect>
<simplesect kind="author"><para>V. Balaji <ulink url="mailto:V.Balaji@noaa.gov">V.Balaji@noaa.gov</ulink></para></simplesect>
<ulink url="full_2coupler__main_8_f90.html"><bold>coupler_main.F90</bold></ulink> couples component models for atmosphere, ocean, land and sea ice on independent grids. It also controls the time integration.</para><para>This version couples model components representing atmosphere, ocean, land and sea ice on independent grids. Each model component is represented by a data type giving the instantaneous model state.</para><para>The component models are coupled to allow implicit vertical diffusion of heat and moisture at the interfaces of the atmosphere, land, and ice models. As a result, the atmosphere, land, and ice models all use the same time step. The atmospheric model has been separated into down and up calls that correspond to the down and up sweeps of the standard tridiagonal elimination.</para><para>The ocean interface uses explicit mixing. Fluxes to and from the ocean must be passed through the ice model. This includes atmospheric fluxes as well as fluxes from the land to the ocean (runoff).</para><para>This program contains the model&apos;s main time loop. Each iteration of the main time loop is one coupled (slow) time step. Within this slow time step loop is a fast time step loop, using the atmospheric time step, where the tridiagonal vertical diffusion equations are solved. Exchange between sea ice and ocean occurs once every slow timestep.</para><sect1 id="index_1coupler_namelists">
<title>Namelists</title>
<para>The three components of coupler: <ref refid="simple_2coupler__main_8_f90_1ae6938ccf85d88f9b7127a81ce195bad2" kindref="member">coupler_main</ref> , <ref refid="namespaceflux__exchange__mod" kindref="compound">flux_exchange_mod</ref>, and <ref refid="namespacesurface__flux__mod" kindref="compound">surface_flux_mod</ref> are configured through three namelists<itemizedlist>
<listitem><para><ref refid="coupler_config" kindref="compound">coupler_nml</ref></para></listitem><listitem><para><ref refid="flux_exchange_conf" kindref="compound">flux_exchange_nml</ref></para></listitem><listitem><para><ref refid="surface_flux_config" kindref="compound">surface_flux_nml</ref></para></listitem></itemizedlist>
</para><para><simplesect kind="note"><para><orderedlist>
<listitem><para>If no value is set for current_date, start_date, or calendar (or default value specified) then the value from restart file &quot;INPUT/coupler.res&quot; will be used. If neither a namelist value or restart file value exist the program will fail.</para></listitem><listitem><para>The actual run length will be the sum of months, days, hours, minutes, and seconds. A run length of zero is not a valid option.</para></listitem><listitem><para>The run length must be an intergal multiple of the coupling timestep dt_cpld.</para></listitem></orderedlist>
</para></simplesect>
</para></sect1>
<sect1 id="index_1Main">
<title>Program Example</title>
<para>Below is some pseudo-code to illustrate the runtime loop of the coupler_main drivers.</para><para><programlisting filename=".f90"><codeline><highlight class="keywordflow">DO</highlight><highlight class="normal"><sp/>slow<sp/>time<sp/>steps(ocean)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">flux_ocean_to_ice</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">set_ice_surface_fields</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keywordflow">DO</highlight><highlight class="normal"><sp/>fast<sp/>time<sp/>steps(atmos)</highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">flux_calculation</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">atmos_down</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">flux_down_from_atmos</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">land_fast</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">ice_fast</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">flux_up_to_atmos</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">atmos_up</highlight></codeline>
<codeline><highlight class="normal"></highlight><highlight class="keywordflow"><sp/><sp/><sp/>ENDDO</highlight><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">ice_slow</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">flux_ice_to_ocean</highlight></codeline>
<codeline><highlight class="normal"></highlight></codeline>
<codeline><highlight class="normal"><sp/><sp/><sp/></highlight><highlight class="keyword">call<sp/></highlight><highlight class="normal">ocean</highlight></codeline>
<codeline><highlight class="normal">enddo</highlight></codeline>
</programlisting> </para></sect1>
    </detaileddescription>
  </compounddef>
</doxygen>
